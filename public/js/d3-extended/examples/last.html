<!DOCTYPE html>
<meta charset="utf-8">
<style>
    body {
        font-family: Verdana;
    }

    .test {
        height: 100px;
        width: 100px;
        background-color: #baffc9;
    }
</style>

<body>
    <h1>Select last</h1>
    <div class="test one last" id="last1">last1
        <div class="last" id="last11">
            Inner Div 1/1
        </div>
        <div class="last" id="last12">
            Inner Div 1/2
        </div>
    </div>
    <div class="test two last" id="last2">last2
        <div class="last" id="last21">
            Inner Div 2/1
        </div>
        <div class="last" id="last22">
            Inner Div 2/2
        </div>
    </div>
    <div class="test three last" id="last3">last3
        <div class="last" id="last31">
            Inner Div 3/1
        </div>
        <div class="last" id="last32">
            Inner Div 3/2
        </div>
    </div>
    <button id="button">Select last</button>
    <div><span>d3-extended result: </span><span id="last-result"></span></div>
    <div><span>jQuery result: </span><span id="last-result-jq"></span></div>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="../build/d3-extended.js"></script>
    <script>
        d3.select('button')
            .on('click', function() {
                var last = d3.selectAll('.last').last();
                d3.select("#last-result").text(last.attr('id'));
                d3.select("#last-result-jq").text($('.last').last().attr('id'));
            });
    </script>
</body>
